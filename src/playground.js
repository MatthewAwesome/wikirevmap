// A regex example: 

// We want to match a string of the following format:
var exampleStr = "junk goes here |-\n| 11\n| [[Blue Beetle (film)|''Blue Beetle'' (film)]]\n| and also here"

var wikiStr = "<div class=\"shortdescription nomobile noexcerpt noprint searchaux\" style=\"display:none\">Weekly report of the most popular Wikipedia articles</div>[[Category:articles with short description]][[Category:Short description is different from Wikidata]]\\n<templatestyles src=\"Top 25 Report header/styles.css\"/><div class=\"top-25-report-header\">\n<div class=\"top-25-report-header-title\">The Top 25 Report</div>\n* [[Wikipedia:Top 25 Report|Home]]\n* [[Wikipedia:Top 25 Report/About|About]]\n* [[:Category:Wikipedia Top 25 Report|Archives]]\n* [[:Category:Pages in the Wikipedia Top 25 Report|Full list]]\n* [[Wikipedia talk:Top 25 Report|Talk]]\n*[https://pageviews.wmcloud.org/topviews/?project=en.wikipedia.org&platform=all-access&date=last-month&excludes= Most viewed pages]\n* [[Wikipedia:Top 25 Report/Records|Records]]\n* [[User:DataflowBot/output/Top 20 enwiki articles by edits and editors in past 7 days (id-1)|Most Edited]]<br>([https://weekly.hatnote.com/ Weeklypedia])\n\n\n</div>\\n__NOTOC__\\n<div style=\\\"height:10px;clear:both;\\\"></div>\\n<templatestyles src=\"Module:Message box/ombox.css\"></templatestyles><table class=\"plainlinks ombox ombox-notice ombox-humor\" role=\"presentation\" style=\"text-align:center;\"><tr><td class=\"mbox-image\">[[File:Ambox humor.svg|60x40px|alt=|link=]]</td><td class=\"mbox-text\">This page contains '''material that is kept because it is considered [[Wikipedia:Humor|humorous]]'''. <br /> Such material is not meant to be taken seriously.</td></tr></table><strong class=\"error\">Misplaced <code>&#123;&#123;Humor&#125;&#125;</code></strong>\\n== Most Popular Wikipedia Articles of the Week (August 13 to 19, 2023) ==\n\n''Prepared with commentary by [[User:Igordebraga|Igordebraga]], [[User:Marinette2356|Marinette2356]], [[User:Rajan51|Rajan51]], and [[User:Ollieisanerd|Ollieisanerd]].''\n\n<span class=\"plainlinks clickbutton\">[[Wikipedia:Top 25 Report/August 6 to 12, 2023|<span class=\"mw-ui-button\">⭠ Last week's report</span>]]</span>\n\n''Gotta love the sweet [[taste of India]]<br>Blame it on the beat of the drum...''\n{| class=\"wikitable\"\n|-\n! Rank\n! Article\n! Class\n! Views\n! Image\n! Notes/about\n|-\n| 1\n| ''[[Gadar 2]]''\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n| 2,937,682\n|[[File:Sunny Deol snapped during Pal Pal Dil Ke Paas promotions in New Delhi.jpg|100px]]\n|rowspan=2|India loves action. [[Hindi Cinema|Bollywood]] and [[Tamil Cinema|Kollywood]] joined hands last week to deliver not one, but two action films that together broke the record for the [https://economictimes.indiatimes.com/magazines/panache/jailer-gadar-2-omg-2-shatter-box-office-record-of-highest-ever-weekend-gross-collection-in-100-years-collect-rs-390-crore-combined/articleshow/102745298.cms country's biggest-ever box office weekend], with help from #5. One stars [[Sunny Deol]] in a historical film set during the [[Indo-Pakistani War of 1971]] that is a sequel to a [[Gadar: Ek Prem Katha|22-year-old film]], while the other is a thriller starring [[Rajnikanth]] as a retired police officer. The two have already become the second and third [[List of Indian films of 2023|highest-grossing Indian films of 2023]], helped by the fact that last week had a holiday, #3. \n|-\n| 2\n| [[Jailer (2023 Tamil film)|''Jailer'' (film)]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|1,957,639\n|[[File:Rajinikanth Felicitates Writer Kalaignanam.jpg|100px]]\n|-\n|3\n| [[Independence Day (India)]]\n|[[File:Symbol support vote.svg|Good article|link=|16x16px|class=noviewer|alt=]]\n|1,637,730\n|[[File:Flag of India, New Delhi.jpg|100px]]\n|Before going to the theatres last Tuesday, Indians celebrated their 77th Independence day from Britain.\n|-\n| 4\n| [[Oppenheimer (film)|''Oppenheimer'' (film)]]\n|[[File:Symbol b class.svg|B-Class article|16x16px|class=noviewer|alt=]]\n|1,376,365\n|[[File:2023-07 Katowice ul. Chopina 2 (1).jpg|100px]]\n|From [[Bollywood]] and [[Kollywood]] to [[Cinema of the United States|Hollywood]], where [[Christopher Nolan]]'s R-rated biopic became the highest-grossing [[World War II]]-related film, following which it broke another, more unique record, becoming the [https://collider.com/oppenheimer-highest-grossing-film-never-top-domestic-box-office/ highest-grossing movie in the domestic market that never reached the top spot at the box office], because of #10.\n|-\n| 5\n| ''[[OMG 2]]''\t\n|[[File:Symbol start class.svg|Start-Class article|16x16px|class=noviewer|alt=]]\n|1,196,676\n|[[File:Akshay Kumar.jpg|100px]]\n|Back to Bollywood, this time for a comedy/drama film that is a [[Spiritual sequel|spiritual sequel]] starring [[Akshay Kumar]] that was released along with #1 and #2.\n|-\n| 6\n| [[J. Robert Oppenheimer]]\n|[[File:Featured article star.svg|Featured article|16x16px|class=noviewer|alt=]]\n|1,014,363\n|[[File:J. Robert Oppenheimer on 3 April 1947 face detail, from- HD.4G.039 (10537699636) (cropped).jpg|100px]]\n|The father of the atomic bomb may have fallen out of the top 5, but he continues to get views, thanks to #4, where he is played by [[Cillian Murphy]].\n|-\n| 7\n| [[Sridevi]]\n|[[File:Symbol b class.svg|B-Class article|16x16px|class=noviewer|alt=]]\n|1,005,076\n|[[File:Sridevi in 2017.jpg|100px]]\n|When this Indian actress died in 2018, [[Wikipedia:Top 25 Report/February 25 to March 3, 2018|millions went checking if it was true on Wikipedia]], enough to land her on [[WP:2018|the year's most viewed articles]]. And now her article has once again got a viewer spike as [https://www.google.com/doodles/sridevis-60th-birthday Google homaged Sridevi on what would be her 60th birthday].\n|-\n| 8\n| [[Deaths in 2023]]\n|[[File:Symbol list class.svg|List-Class article|link=|16x16px|class=noviewer|alt=]]\n|939,567\n|[[File:Skulls (13878390204).jpg|100px]]\n|From the repertoire of [[Sam Smith|a non-binary singer]], who also [[Man I Am|sings]] in [[Barbie: The Album|the soundtrack]] of #10:<br>[[Lay Me Down (Sam Smith song)|''Told me not to cry when you were gone<br>But the feeling's overwhelming, it's much too strong...'']]\n|-\n|9\n| [[Michael Oher]]\n|[[File:Symbol start class.svg|Start-Class article|16x16px|class=noviewer|alt=]]\n|909,055\n|[[File:Michael Oher Ravens Training Camp August 5, 2009.jpg|100px]]\n|During the weekend where he won [[Super Bowl XLVII]], this American football player requested no questions about ''[[The Blind Side (film)|The Blind Side]]'', the movie telling the story of how Oher was brought into a rich white family who helped him overcome a turbulent life to finish high school and become a successful athlete. Oher has now sued [[Leigh Anne Tuohy]] and [[Sean Tuohy|her husband]] (the wife takes precedence, [[Sandra Bullock]] won an Oscar playing her...) claiming they made millions off him in a [[conservatorship]]. The Tuohys in turn denied the allegations while adding that they will [https://www.npr.org/2023/08/18/1194664730/michael-oher-the-blind-side-tuohys-plan-to-end-conservatorship end the thing anyway.]\n|-\n|10\n| [[Barbie (film)|''Barbie'' (film)]]\n|[[File:Symbol b class.svg|B-Class article|16x16px|class=noviewer|alt=]]\n|896,825\n|[[File:Barbie box photobooth (cropped).jpg|100px]]\n|[[Greta Gerwig]]'s latest film, aside from being a huge commercial success (it hit $1 billion at global box office, became [[Warner Bros.]]' highest-grossing film domestically, surpassing ''[[The Dark Knight]]'', which was ironically created by [[Christopher Nolan|the same guy who directed #4]], and also became the studio's second highest-grossing film worldwide, only behind a [[Harry Potter and the Deathly Hallows – Part 2|certain magical boy]]) and a paradise for those obsessed with the colour pink, turned out to also be incredibly well made, with great jokes, great cast and some important messages regarding [[patriarchy]] and [[feminism]]. Perhaps the only missed opportunities were a song by [[Pink (singer)|Pink]] and [[Ken (doll)|Ken]] getting hit in between the legs and not being affected by it. Instead, we got [[Ryan Gosling]] [[I'm Just Ken|singing]] himself so I believe that's (K)enough.\n|-\n| 11\n| [[Blue Beetle (film)|''Blue Beetle'' (film)]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|785,251\n|[[File:Xolo Maridueña (41151816374) (cropped).jpg|100px]]\n|The [[DC Extended Universe]] is about to be folded/rebooted, but the [[DC Universe (franchise)|DC Universe]] honchos have stated that they will incorporate the hero of one of its last movies, [[Xolo Maridueña]]'s [[Jaime Reyes]], a Mexican-American who gets superpowered armor from an extraterrestrial device resembling a scarab. Reviewers responded well to the comedic and family-focused approach, and ''Blue Beetle'' ended #10's streak atop the box office, albeit now it remains to be seen if the movie will avoid the financial disappointments of ''[[Shazam! Fury of the Gods]]'' and ''[[The Flash (film)|The Flash]]'' (it should at least get a positive response south of the border, as the movie is so Mexican there are references to ''[[María la del Barrio]]'' and ''[[El Chapulín Colorado]]''!).\n|-\n| 12\n| [[Sam Kerr]]\n|[[File:Symbol support vote.svg|Good article|link=|16x16px|class=noviewer|alt=]]\n|778,315\n|[[File:Sam Kerr, 29 February 2020 (02) (cropped).jpg|100px]]\n|The captain of [[Australia women's national soccer team]], aka The Matildas, missed most of the World Cup (#14) co-hosted by them with 'neighbor' New Zealand due to a preceding injury, but still managed to land a historic semifinal by converting the decisive kick at the quarterfinal with France, and then scored an equalizer against England that was unfortunately followed by two goals by the Lionesses.\n|-\n| 13\n| [[Vivek Ramaswamy]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|757,178\n|[[File:Vivek Ramaswamy (52588306219).jpg|100px]]\n|The 2024 presidential candidate pulled ahead in some polls for the [[2024 Republican Party presidential primaries|2024 Republican primaries]] ahead of a [[Ron DeSantis|state governor]], but still remains behind the [[Donald Trump|former president]] [[Attempts to overturn the 2020 United States presidential election|who doesn't seem to believe in democracy]].\n|-\n| 14\n| [[2023 FIFA Women's World Cup]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|739,845\n|[[File:Japan vs Spain – 2023 FIFA Women's World Cup Group C – 2.jpg|100px]]\n|The event that provides some preparation for the sleepless nights sports fans will endure in the [[2032 Summer Olympics]] to be held in [[Brisbane|one of its host cities]], women's football boiled down to England (beating in the semifinals #12's Australia) against Spain (who beat Sweden, afterwards winners of the third place match). The final was in the day right after the week covered by this Report, and let's just put that ''La Roja'' beat The Lionesses, making the Spanish current champions in all three female categories (senior, U-17 and U-20).\n|-\n| 15\n| [[Neymar]]\n|[[File:Symbol b class.svg|B-Class article|16x16px|class=noviewer|alt=]]\n|670,853\n|[[File:Neymar PSG.jpg|100px]]\n|The ex of #11's leading lady [[Bruna Marquezine]] was [[List of most expensive association football transfers|the most expensive transfer ever]] when [[Paris St. Germain]] brought him in 2017, and now the Brazilian striker has exchanged being paid by [[Qatar Sports Investments|the emir of Qatar]] to getting his money from [[Public Investment Fund|the Saudi government]] by signing with #22. At the age of 31, Neymar is an exception on how footballers usually head to the Middle East in order to finish off their careers.\n|-\n| 16\n| [[Heart of Stone (2023 film)|''Heart of Stone'' (2023 film)]]\n|[[File:Symbol stub class.svg|Stub-Class article|16x16px|class=noviewer|alt=]]\n|651,277\n|[[File:Gal Gadot by Gage Skidmore 2.jpg|100px]]\n|Another film on this list, this one being an [[action-thriller]] released on [[Netflix]] on August 11 to mixed reviews. Fun fact: lead actress [[Gal Gadot]] was also an initial choice for the role of [[Barbie]] in #10 but she turned it down due to scheduling conflicts. Bad choice.\n|-\n| 17\n| [[Premier League]]\n|[[File:Featured article star.svg|Featured article|16x16px|class=noviewer|alt=]]\n|618,401\n|[[File:Premier League Summer Series Trophy and Premier League Trophy.jpg|100px]]\n|The [[2023–24 Premier League|32nd edition]] of England's top football league started last week, prompting users to go to Wikipedia to keep track of the tournament.\n|-\n| 18\n| [[Richard Sackler]]\n|[[File:Symbol start class.svg|Start-Class article|16x16px|class=noviewer|alt=]]\n|606,914\n|[[File:Richard Sackler deposition screenshot.jpg|100px]]\n|American billionaire who owned the company [[Purdue Pharma]] that produced [[OxyContin]], which was involved with the [[Opioid epidemic in the United States]], which resulted in a lot of lawsuits that ended up with Sackler filing for [[bankruptcy]]. The new Netflix show ''[[Painkiller (TV series)|Painkiller]]'' documents the company's downfall.\n|-\n| 19\n| [[FIFA Women's World Cup]]\n|[[File:Symbol b class.svg|B-Class article|16x16px|class=noviewer|alt=]]\n|530,014\n|[[File:Spanische Nationalmannschaft.JPG|100px]]\n|#14 made Spain match Germany as the only world champions in both genders (the other female winners are the United States, Japan, and Norway, and only the first ones have reached further than a round of 16 in the male tournament). The hosts of the [[2027 FIFA Women's World Cup]] will only be determined next year, out of [[2027 FIFA Women's World Cup bids|four candidates]].\n|-\n| 20\n| [[Wataru Endō]]\n|[[File:Symbol start class.svg|Start-Class article|16x16px|class=noviewer|alt=]]\n|525,671\n|[[File:Wataru endo.jpg|100px]]\n|Among the changes to #17 was [[Liverpool F.C.]] taking this Japanese midfielder, who was previously in Germany's [[VfB Stuttgart]].\n|-\n| 21\n| [[No Hard Feelings (2023 film)|''No Hard Feelings'' (2023 film)]]\n|[[File:Symbol start class.svg|Start-Class article|16x16px|class=noviewer|alt=]]\n|487,449\n|[[File:Jennifer Lawrence at the 83rd Academy Awards crop.jpg|100px]]\n| This [[Sex comedy|sex comedy]] flick starring [[Jennifer Lawrence]] was released on digital last Tuesday, which brought it back to this list.\n|-\n| 22\n| [[Al Hilal SFC]]\t\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|487,051\n|[[File:Al-Hilal Champion of Crown Prince Cup 2010.jpg|100px]]\n|A few months after humiliating [[Flamengo|Brazil's most popular team]] at the [[2023 FIFA Club World Cup]], this Saudi team has brought in the country's current top footballer (#15) for quite the paycheck.\n|-\n|23\n| [[Johnny Manziel]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|486,660\n|[[File:Johnny Manziel (20153849154).jpg|100px]]\n|Another guy on here because of a Netflix show, this one being ''Untold: Johnny Football'' which documents how Manziel's promising [[NFL]] career ended after getting involved in a lot of controversies.\n|-\n|24\n| [[Utkarsh Sharma]]\n|[[File:Symbol stub class.svg|Stub-Class article|16x16px|class=noviewer|alt=]]\n|476,612\n|[[File: Utkarsh sharma.jpg|100px]]\n|Son of [[Anil Sharma (director)|the director]] of #1, Sharma reprises his role in the film from [[Gadar: Ek Prem Katha|its predecessor]], which he had appeared in as a child.\n|-\n| 25\n| [[Michael Parkinson]]\n|[[File:Symbol c class.svg|C-Class article|16x16px|class=noviewer|alt=]]\n|473,791\n|[[File:Emu 1 - Tidbinbilla.jpg|100px]]\n|Keeping off [[Inter Miami CF|the new team of]] [[Lionel Messi|one of #15's former teammates]], [[Gadar: Ek Prem Katha|#1's predecessor]],\tand [[Cristiano Ronaldo|another football star in Arabia]] is a revered English chat show host who died at 88, whose work (the best bits included [https://www.youtube.com/watch?v=LmIsXZmoyKs flirting with Miss Piggy] and [https://www.youtube.com/watch?v=kek1vs6bM2k getting attacked by an emu]) even led him to be knighted.\n|}\\n\\n=== Exclusions ===\\n\\n* This list excludes the Wikipedia main page, non-article pages (such as [[Wikipedia: Red link|redlinks]]), and anomalous entries (such as DDoS attacks or likely automated views). Since mobile view data became available to the Report in October 2014, we exclude articles that have almost no mobile views (5–6% or less) or almost all mobile views (94–95% or more) because they are very likely to be automated views based on our experience and research of the issue. Please feel free to discuss any removal on the talk page if you wish.\\n\\n<templatestyles src=\"Module:Portal/styles.css\"></templatestyles><ul role=\"navigation\" aria-label=\"Portals\" class=\"noprint portalbox portalborder portalleft\">\n<li class=\"portalbox-entry\"><span class=\"portalbox-image\">[[File:Text-x-generic.svg|link=|alt=|32x28px|class=noviewer]]</span><span class=\"portalbox-link\">[[Portal:Lists|Lists portal]]</span></li><li class=\"portalbox-entry\"><span class=\"portalbox-image\">[[File:Ambox globe Americas.svg|link=|alt=|32x28px|class=noviewer]]</span><span class=\"portalbox-link\">[[Portal:Current events|Current events portal]]</span></li></ul>\\n[[Category:Wikipedia Top 25 Report|  ]]"

// We want to match the following:

// 1. A pipe character: |
// 2. A dash character: -
// 3. A newline character: \n
// 4. A pipe character: |
// 5. An optional space. 
// 6. A number of arbitrary length: \d{1,2}
// 7. A newline character: \n
// 8. A pipe character: |
// 9. A space character: \s
// 10. An optional pair of single quotes
// 11. A pair of square brackets: \[\[
// 12. A string of arbitrary length: (.*?)
// 13. A pair of square brackets: \]\]

// The regex:
var regex = /\|\-\n\|\s?\d{1,2}\n\|\s(\'\')?\[\[(.*?)\]\]/g;
// var regQuote = /\|\-\n\|\s\d{1,2}\n\|\s\'\'\[\[(.*?)\]\]/g;

// Lets test it out:
var match = wikiStr.match(regex);
// console.log(match.length);
// // Print the matches: 
// for (var i = 0; i < match.length; i++) {

//     console.log(match[i]);
// }

// Nice, we've matched all the data we care about!

// Now we parse the matches. We can split the strings on the pipe character, and then trim the whitespace from the resulting array. 
// We care about the numeral (index 1) and the article title (index 2).

// Let's make the array: 
var arr = [];
for (var i = 0; i < match.length; i++) {
    var temp = match[i].split("|");
    arr.push(temp);
    console.log(temp)
}

/* 
The strategy for getting the top-25 Wikipedia entries is as follows: 

1) Call the API to get the wikitext for the Top 25 Report page.

2) Call the API to expand the wikitext into a more verbose string.

3) Use regex to parse the string into an array of arrays, where each sub-array contains the rank and article title.
*/